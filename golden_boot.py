import pandas as pd
from geo_map_utils import create_geo_map_image

# Load the dataset
df = pd.read_csv('football/golden_boot.csv')

# Define the country flags
country_flags = {
    'ĞĞ²ÑÑ‚Ñ€Ğ¸Ñ': 'ğŸ‡¦ğŸ‡¹',
    'ĞÑ€Ğ³ĞµĞ½Ñ‚Ğ¸Ğ½Ğ°': 'ğŸ‡¦ğŸ‡·',
    'Ğ‘ĞµĞ»ÑŒĞ³Ğ¸Ñ': 'ğŸ‡§ğŸ‡ª',
    'Ğ‘Ğ¾Ğ»Ğ³Ğ°Ñ€Ğ¸Ñ': 'ğŸ‡§ğŸ‡¬',
    'Ğ‘Ñ€Ğ°Ğ·Ğ¸Ğ»Ğ¸Ñ': 'ğŸ‡§ğŸ‡·',
    'Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ğ±Ñ€Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ': 'ğŸ‡¬ğŸ‡§',
    'Ğ“Ñ€ĞµÑ†Ğ¸Ñ': 'ğŸ‡¬ğŸ‡·',
    'Ğ˜Ñ‚Ğ°Ğ»Ğ¸Ñ': 'ğŸ‡®ğŸ‡¹',
    'ĞšĞ¸Ğ¿Ñ€': 'ğŸ‡¨ğŸ‡¾',
    'ĞœĞµĞºÑĞ¸ĞºĞ°': 'ğŸ‡²ğŸ‡½',
    'ĞĞ¸Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ñ‹': 'ğŸ‡³ğŸ‡±',
    'ĞĞ¾Ñ€Ğ²ĞµĞ³Ğ¸Ñ': 'ğŸ‡³ğŸ‡´',
    'ĞŸĞ¾Ğ»ÑŒÑˆĞ°': 'ğŸ‡µğŸ‡±',
    'ĞŸĞ¾Ñ€Ñ‚ÑƒĞ³Ğ°Ğ»Ğ¸Ñ': 'ğŸ‡µğŸ‡¹',
    'Ğ ÑƒĞ¼Ñ‹Ğ½Ğ¸Ñ': 'ğŸ‡·ğŸ‡´',
    'Ğ¢ÑƒÑ€Ñ†Ğ¸Ñ': 'ğŸ‡¹ğŸ‡·',
    'Ğ£Ñ€ÑƒĞ³Ğ²Ğ°Ğ¹': 'ğŸ‡ºğŸ‡¾',
    'Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ': 'ğŸ‡©ğŸ‡ª',
    'Ğ¤Ñ€Ğ°Ğ½Ñ†Ğ¸Ñ': 'ğŸ‡«ğŸ‡·',
    'Ğ¨Ğ²ĞµÑ†Ğ¸Ñ': 'ğŸ‡¸ğŸ‡ª',
    'Ğ®Ğ³Ğ¾ÑĞ»Ğ°Ğ²Ğ¸Ñ': 'ğŸ‡·ğŸ‡¸',
}

# Define the country coordinates
country_coords = {
    'ĞÑ€Ğ³ĞµĞ½Ñ‚Ğ¸Ğ½Ğ°': {'lat': -38.4161, 'lon': -63.6167},
    'Ğ£Ñ€ÑƒĞ³Ğ²Ğ°Ğ¹': {'lat': -32.5228, 'lon': -55.7658},
    'Ğ‘Ñ€Ğ°Ğ·Ğ¸Ğ»Ğ¸Ñ': {'lat': -14.2350, 'lon': -51.9253},
    'ĞœĞµĞºÑĞ¸ĞºĞ°': {'lat': 23.6345, 'lon': -102.5528},
    'Ğ®Ğ³Ğ¾ÑĞ»Ğ°Ğ²Ğ¸Ñ': {'lat': 50, 'lon': -17},
    'Ğ¤Ñ€Ğ°Ğ½Ñ†Ğ¸Ñ': {'lat': 47.6034, 'lon': 1.8883},
    'Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ': {'lat': 51.1657, 'lon': 10.4515},
    'ĞĞ¸Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ñ‹': {'lat': 52.1326, 'lon': 5.2913},
    'ĞŸĞ¾Ñ€Ñ‚ÑƒĞ³Ğ°Ğ»Ğ¸Ñ': {'lat': 39.3999, 'lon': -8.2245},
    'Ğ˜Ñ‚Ğ°Ğ»Ğ¸Ñ': {'lat': 41.8719, 'lon': 12.5674},
    'ĞĞ²ÑÑ‚Ñ€Ğ¸Ñ': {'lat': 47.5162, 'lon': 14.5501},
    'Ğ’ĞµĞ»Ğ¸ĞºĞ¾Ğ±Ñ€Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ': {'lat': 54.3555, 'lon': -1.5},
    'Ğ‘ĞµĞ»ÑŒĞ³Ğ¸Ñ': {'lat': 49.8503, 'lon': 4.3517},
    'Ğ‘Ğ¾Ğ»Ğ³Ğ°Ñ€Ğ¸Ñ': {'lat': 42.7339, 'lon': 25.4858},
    'Ğ“Ñ€ĞµÑ†Ğ¸Ñ': {'lat': 39.0742, 'lon': 21.8243},
    'ĞšĞ¸Ğ¿Ñ€': {'lat': 35.1264, 'lon': 33.4299},
    # 'ĞœĞµĞºÑĞ¸ĞºĞ°': {'lat': 23.6345, 'lon': -102.5528},
    'ĞĞ¾Ñ€Ğ²ĞµĞ³Ğ¸Ñ': {'lat': 60.4720, 'lon': 8.4689},
    'ĞŸĞ¾Ğ»ÑŒÑˆĞ°': {'lat': 51.9194, 'lon': 20.1451},
    'Ğ ÑƒĞ¼Ñ‹Ğ½Ğ¸Ñ': {'lat': 45.9432, 'lon': 24.9668},
    'Ğ¢ÑƒÑ€Ñ†Ğ¸Ñ': {'lat': 38.9637, 'lon': 35.2433},
    # 'Ğ£Ñ€ÑƒĞ³Ğ²Ğ°Ğ¹': {'lat': -32.5228, 'lon': -55.7658},
    'Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ': {'lat': 51, 'lon': 10.4515},
    'Ğ¨Ğ²ĞµÑ†Ğ¸Ñ': {'lat': 59.33, 'lon': 16.6435},
    # 'Ğ®Ğ³Ğ¾ÑĞ»Ğ°Ğ²Ğ¸Ñ': {'lat': 44.0165, 'lon': 21.0059},
}

# Add latitude and longitude for each country
df['lat'] = df['Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°'].map(lambda x: country_coords[x]['lat'])
df['lon'] = df['Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°'].map(lambda x: country_coords[x]['lon'])
df['text'] = df.apply(
    lambda row: f"{country_flags[row['Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°']]}   {row['Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ°']} ({row['ĞŸĞ¾Ğ±ĞµĞ´Ñ‹']}, {row['Ğ˜Ğ³Ñ€Ğ¾ĞºĞ¸']})", axis=1)

create_geo_map_image(df, 'ĞŸĞ¾Ğ±ĞµĞ´Ñ‹', map_style='white-bg')

